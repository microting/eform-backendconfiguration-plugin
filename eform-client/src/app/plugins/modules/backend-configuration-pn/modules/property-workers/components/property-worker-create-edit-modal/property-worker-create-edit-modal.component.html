<h3 mat-dialog-title>{{ (edit ? 'Edit employee' : 'New employee') | translate}}</h3>
<div mat-dialog-content class="d-flex flex-column">
  <mat-form-field>
    <mat-label>{{'First name' | translate }}</mat-label>
    <input
      matInput
      [disabled]="selectedDeviceUser.isLocked"
      [(ngModel)]="selectedDeviceUser.userFirstName"
      required
      type="text"
      id="firstName"
      name="userName">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{'Last name' | translate }}</mat-label>
    <input
      matInput
      [disabled]="selectedDeviceUser.isLocked"
      [(ngModel)]="selectedDeviceUser.userLastName"
      type="text"
      name="email"
      id="lastName"
      required>
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{'Language' | translate }}</mat-label>
    <mtx-select
      id="profileLanguageSelector"
      [bindLabel]="'text'"
      [bindValue]="'locale'"
      [clearable]="false"
      [(ngModel)]="selectedDeviceUser.languageCode"
      [items]="languages">
    </mtx-select>
  </mat-form-field>
  <mat-slide-toggle
    *ngIf="authStateService.checkClaim('time_registration_enable')"
    color="primary"
    class="mb-2"
    id="timeRegistrationEnabledToggle"
    [checked]="selectedDeviceUser.timeRegistrationEnabled"
    [(ngModel)]="selectedDeviceUser.timeRegistrationEnabled">
    {{ "Timeregistration enabled" | translate }}
  </mat-slide-toggle>
  <mat-slide-toggle
    *ngIf="authStateService.checkClaim('task_management_enable')"
    color="primary"
    class="mb-2"
    id="taskManagementEnabledToggle"
    [checked]="selectedDeviceUser.taskManagementEnabled"
    [(ngModel)]="selectedDeviceUser.taskManagementEnabled">
    {{ "Task management enabled" | translate }}
  </mat-slide-toggle>

<!--  <mtx-grid-->
<!--    [data]="availableProperties"-->
<!--    [columns]="tableHeaders"-->
<!--    [pageOnFront]="false"-->
<!--    [rowStriped]="true"-->
<!--    [rowSelectable]="true"-->
<!--    [showPaginator]="false"-->
<!--    [rowSelected]="selectedProperties"-->
<!--    (rowSelectionChange)="changeArray($event)"-->
<!--  >-->
<!--  </mtx-grid>-->
  <div class="table-responsive">
    <table class="table table-xs table-bordered text-center z-depth-1">
      <thead>
      <tr>
        <th>ID</th>
        <th>{{ 'Property name' | translate }}</th>
        <th>{{ 'Select' | translate }}</th>
      </tr>
      </thead>
      <tbody id="pairingModalTableBody">
      <tr *ngFor="let property of availableProperties; let i = index">
        <td class="align-middle">{{ property.id }}</td>
        <td class="align-middle" id="propertyName">{{ property.name }}</td>
        <td class="align-middle">
          <div class="mat-checkbox">
            <mat-checkbox class="mat-checkbox"
              id="checkboxCreateAssignment{{ i }}"
              (change)="
                          addToArray(
                            $event,
                            getAssignmentByPropertyId(property.id).propertyId
                          )
                        "
              [checked]="getAssignmentIsCheckedByPropertyId(property.id)"
            ></mat-checkbox>
            <label for="checkboxCreateAssignment{{ i }}"></label>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<div mat-dialog-actions class="d-flex flex-row justify-content-end">
  <button
    mat-raised-button
    color="accent"
    (click)="edit ? updateSingle() : createDeviceUser()"
    [disabled]="!selectedDeviceUser.userFirstName || !selectedDeviceUser.userLastName"
    id="{{edit ? 'saveEditBtn' : 'saveCreateBtn'}}"
  >
    {{(edit ? 'Save' : 'Create') | translate}}
  </button>
  <button
    mat-raised-button
    id="{{edit ? 'cancelEditBtn' : 'cancelCreateBtn'}}"
    (click)="hide()"
  >
    {{'Cancel' | translate}}
  </button>
</div>
