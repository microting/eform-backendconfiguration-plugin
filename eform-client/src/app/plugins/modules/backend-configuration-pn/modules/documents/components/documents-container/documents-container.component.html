<eform-new-subheader
  [title]="'Documents' | translate"
  [forceStaticTitle]="true"
>
  <ng-container *ngIf="folders !== undefined">
    <button *ngIf="folders.entities.length > 0"
      mat-icon-button
      id="createNewDocumentBtn"
      matTooltip="{{ 'Create new document' | translate }}"
      (click)="openCreateModal()"
      color="accent"
    >
      <mat-icon>add</mat-icon>
    </button>
  </ng-container>
  <button
    mat-icon-button
    id="manageFoldersBtn"
    matTooltip="{{ 'Manage folders' | translate }}"
    (click)="openManageFoldersModal()"
    color="accent"
  >
    <mat-icon>folder</mat-icon>
  </button>
</eform-new-subheader>

<app-documents-filters (updateTable)="updateTable()"></app-documents-filters>

<ng-container *ngFor="let folder of folders.entities">
  <ng-container *ngIf="getDocumentsByFolderId(folder.id).length > 0">
    <h3 class="mt-3">{{ getFolderTranslation(folder) }}</h3>
    <app-documents-table
      [documents]="getDocumentsByFolderId(folder.id)"
      (openEditModal)="showEditDocumentModal($event)"
      (openDeleteModal)="showDeleteDocumentModal($event)"
    >
    </app-documents-table>
  </ng-container>
</ng-container>
