<eform-new-subheader>
  <button
    class="btn-primary btn-primary--icon-left"
    [matTooltip]="'Create new task' | translate"
    (click)="onCreateTask()"
    id="createNewTaskBtn"
  >
    <mat-icon>add</mat-icon>
    <span>{{ 'Create new task' | translate }}</span>
  </button>
</eform-new-subheader>

<app-planned-task-workers
  *ngIf="showDiagram"
  [plannedTaskWorkers]="plannedTaskWorkers"
  [selectedPropertyName]="propertyName"
  [view]="view"
  class="mb-2 w-100"
/>

<app-task-wizard-filters
  [properties]="properties"
  [folders]="folders"
  [sites]="sites"
  [tags]="tags"
  (updateTable)="updateTable()"
/>
<div class="d-flex flex-row align-items-center gap-12 mb-4 ml-3">
  <button
    *ngIf="selectAuthIsAdmin$ | async;"
    class="btn-warning"
    [disabled]="
    !selectedPlanningsCheckboxes || selectedPlanningsCheckboxes.length === 0
  "
    id="deleteMultiplePluginsBtn"
    matTooltip="{{ 'Deactivate selected' | translate }}"
    (click)="showDeactivateMultipleTasksModal()"
  >
    {{ 'Deactivate selected' | translate }}
  </button>

  <button
    class="btn-primary btn-primary--icon-left ml-2"
    (click)="exportCsv()"
    id="exportTasksBtn"
  >
    <mat-icon>download</mat-icon>
    <span>Export CSV</span>
  </button>
</div>
<app-task-wizard-table
  [tasks]="tasks"
  (updateTable)="updateTable()"
  (editTask)="onEditTask($event)"
  (copyTask)="onCopyTask($event)"
  (deleteTask)="onDeleteTask($event)"
  (selectedPlanningsChanged)="selectedPlanningsChanged($event)"
/>

<app-planning-tags
  #planningTagsModal
  [availableTags]="tags"
></app-planning-tags>
