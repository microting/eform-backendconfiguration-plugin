<eform-new-subheader>
  <button
    class="btn-primary btn-primary--icon-left"
    id="createNewTaskBtn"
    matTooltip="{{ 'Create new task' | translate }}"
    (click)="openCreateTaskModal()"
  >
    <mat-icon>add</mat-icon>
    <span>{{ 'Create new task' | translate }}</span>
  </button>
</eform-new-subheader>

<div class="d-flex flex-column">
  <app-planned-task-days
    *ngIf="showDiagram"
    [plannedTaskDaysModel]="plannedTaskDays"
    [selectedPropertyName]="propertyName"
    [view]="view"
    class="mb-2 w-100"
  />
  <app-task-tracker-filters
    (updateTable)="updateTable()"
    [properties]="properties"
    [tags]="tags"
  />
  <div class="d-flex flex-row justify-content-start mb-4 px-3">
<!--    <button-->
<!--      mat-raised-button-->
<!--      id="changeColumnsBtn"-->
<!--      (click)="openColumnsModal()"-->
<!--      color="primary">-->
<!--      {{'Show/hide columns' | translate}}-->
<!--    </button>-->

    <button
      class="btn-secondary btn-secondary--icon-rounded-border"
      id="excelReportBtn"
      (click)="onDownloadExcelReport()"
      matTooltip="{{ 'Excel report' | translate }}"
    >
      <app-icon name="xmlFile" size="20"></app-icon>
    </button>
  </div>
  <app-task-tracker-table
    [columnsFromDb]="columns"
    [tasks]="tasks"
    (updateTable)="updateTable()"
    (openAreaRulePlanningModal)="openEditTaskModal($event)"
    (openSelectWorkerModal)="openSelectWorkerModal($event)"
  >
  </app-task-tracker-table>
</div>

<app-planning-tags
  #planningTagsModal
  [availableTags]="tags"
></app-planning-tags>
